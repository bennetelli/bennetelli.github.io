---
layout: post
title: MVC 1.0 in Java EE 8 - Redirects and Forwards
date: '2015-12-09T04:42:00.000-08:00'
author: Bennet Schulz
tags:
- Java EE 8
- MVC
- Payara
- Java EE
- Glassfish
- netbeans
modified_time: '2015-12-09T04:45:24.629-08:00'
thumbnail: http://4.bp.blogspot.com/-W2gVcM7GRsY/Vh-hSiLRtHI/AAAAAAAAAV0/kDgBw3pAKts/s72-c/NB-logo-single.jpg
blogger_id: tag:blogger.com,1999:blog-3189340956761677857.post-8238583687960004553
blogger_orig_url: http://www.bennet-schulz.com/2015/12/mvc-10-in-java-ee-8-redirects.html
permalink: /:year/:month/:title.html
---

<a href="http://4.bp.blogspot.com/-W2gVcM7GRsY/Vh-hSiLRtHI/AAAAAAAAAV0/kDgBw3pAKts/s1600/NB-logo-single.jpg" imageanchor="1" style="clear: right; float: right; margin-bottom: 1em; margin-left: 1em;"><img border="0" src="http://4.bp.blogspot.com/-W2gVcM7GRsY/Vh-hSiLRtHI/AAAAAAAAAV0/kDgBw3pAKts/s1600/NB-logo-single.jpg" /></a><a href="http://1.bp.blogspot.com/-RTPNqC_nDbI/Vh-hAnhfIrI/AAAAAAAAAVs/o6NfkGv9IBE/s1600/client-logo-payara.jpg" imageanchor="1" style="clear: right; float: right; margin-bottom: 1em; margin-left: 1em;"></a>This blogpost of my MVC 1.0 series is about Redirects and Forwards. Since the 2nd early draft redirects became a new feature in MVC.<br />This post starts with the popular Post-Redirect-Get Pattern, handles redirets with JAX-RS and MVC and compares Redirects with Forwards briefly. <br /><br /><a href="https://1.bp.blogspot.com/-RTPNqC_nDbI/Vh-hAnhfIrI/AAAAAAAAAVs/o6NfkGv9IBE/s1600/client-logo-payara.jpg" imageanchor="1" style="clear: right; float: right; margin-bottom: 1em; margin-left: 1em;"><img border="0" src="http://1.bp.blogspot.com/-RTPNqC_nDbI/Vh-hAnhfIrI/AAAAAAAAAVs/o6NfkGv9IBE/s1600/client-logo-payara.jpg" /></a><a class="twitter-share-button" data-via="bennetelli" href="https://twitter.com/share">Tweet</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script> <a class="g-plusone" data-size="medium" href="https://plus.google.com/"></a><br /><h2>The Post-Redirect-Get Pattern</h2>The Post-Redirect-Post pattern is a popular pattern in web applications. It splits one request into two. Instead of returning a result page   immediately in response to POST request, the server responds with redirect to result   page. After that the browser loads the result page as if it were an separate resource. After   all, there are two different tasks to be done. First is to POST input data to   the server. Second is to GET output to the client.<br /><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://media.techtarget.com/tss/static/articles/content/RedirectAfterPost/images/post_redirect.gif" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" src="http://media.techtarget.com/tss/static/articles/content/RedirectAfterPost/images/post_redirect.gif" height="120" width="320" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Source: theserverside.com</td></tr></tbody></table>When using MVC there are two different different ways to handle the Post-Redirect-Get Pattern. Redirects can be handled either with JAX-RS or even with MVC, which comes with an own mechanism for redirects.<br /><h2>Redirects with JAX-RS </h2>Because of the integration with JAX-RS it is possible to redirect to URLs the JAX-RS way. This means a redirect can be done by using a JAX-RS Response object as return value of the controller method which redirects. Behind the scenes it's a HTTP 303 "See Other".<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-OF5o2NQPcjg/Vmf6fjKSJRI/AAAAAAAAAcU/cHw04xfqvAc/s1600/mvc_redirect_response.tiff" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" height="76" src="http://4.bp.blogspot.com/-OF5o2NQPcjg/Vmf6fjKSJRI/AAAAAAAAAcU/cHw04xfqvAc/s640/mvc_redirect_response.tiff" width="640" /></a></div><br />This is the first way to handle redirects. Like it is visible, it is not very concise. A more compact way for handling redirects comes with MVC which is described in the following section.<br /><h2>Redirects with MVC</h2>Since the 2nd early draft of MVC there is a new way to handle redirects. This way is more concise in comparison to the JAX-RS redirect.<br />When using the MVC redirect way, view paths have to be prefixed with "redirect:" to trigger a client redirect. This means the Post method needs a return type of String to perform a redirect.<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-LBiGSzgg44o/VmgEkaLG-aI/AAAAAAAAAck/O9fIKu6QTt8/s1600/mvc_redirects_post.tiff" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" height="186" src="http://2.bp.blogspot.com/-LBiGSzgg44o/VmgEkaLG-aI/AAAAAAAAAck/O9fIKu6QTt8/s640/mvc_redirects_post.tiff" width="640" /></a></div><br /><br />In the previous illustration there is a post method which will be called first. This post method has a String return type and return a path to another url prefixed with "redirect:" to signalize a redirect.<br />In addition to that with MVC there is a new annotation. It's named @RedirectScoped and fits between the RequestScoped and the ApplicationScoped one. A RedirectScoped annotated bean spans at most two requests.<br />The following illustration shows the bean used in the previous post and get methods:<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-TuSjOun9HlU/VmgGM80HiKI/AAAAAAAAAcw/k-1KW5DwUew/s1600/mvc_redirects_cdi_bean.tiff" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" height="336" src="http://1.bp.blogspot.com/-TuSjOun9HlU/VmgGM80HiKI/AAAAAAAAAcw/k-1KW5DwUew/s400/mvc_redirects_cdi_bean.tiff" width="400" /></a></div>Like described before the bean has to be annotated with @RedirectScoped to span more than one and at least two requests. In addition to that it has to be Serializable. That's all.<br /><br />Currently redirects have to be implemented with new CDI beans. The javax.mvc.Models map is RequestScoped, so it can not be used to store data over two requests. In the mailing list there is a discussion about the scope of the Models map.<br /><h2>Redirects vs. Forwards</h2>With the 3rd early draft there will be a forward prefix. In comparison to redirects, forwards don't result in a response to the client. Forwards are "server internal". The forward routes to another controller url within the server with just a single request instead of two. Another difference is that the browser won't show the redirected url when using forwards. With forwards the url stays the same from the beginning post request till the end of the get request.<br /><h2>Conclusion</h2>With MVC 1.0 there will be two different ways to support the Post-Redirect-Get pattern. Redirects can either be handled with JAX-RS Response objects or even with the new MVC 1.0 "redirect:" prefix for controller methods.<br />There will also be a way to forward to other urls. In comparison to redirects forwards stay on the server and only need a single request instead of two like redirects do. When using redirects the url changes from post to get an with forwards the url stays the same.<br /><br />I hope you are enyoing my blog series about MVC 1.0 in Java EE 8. If there are some topics which would like to see, please leave a comment :-)<br /><br /><br />Bye,<br />Bennet<br /><br /><a class="twitter-follow-button" data-show-count="false" href="https://twitter.com/bennetelli">Follow @bennetelli</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>