---
layout: post
title: MVC 1.0 in Java EE 8 - How to work with Models
date: '2015-10-21T00:17:00.001-07:00'
author: Bennet Schulz
tags:
- MVC
- Payara
- Java EE
- Glassfish
- netbeans
modified_time: '2015-10-21T21:56:12.086-07:00'
thumbnail: http://4.bp.blogspot.com/-W2gVcM7GRsY/Vh-hSiLRtHI/AAAAAAAAAV0/kDgBw3pAKts/s72-c/NB-logo-single.jpg
blogger_id: tag:blogger.com,1999:blog-3189340956761677857.post-8072130028935740414
blogger_orig_url: http://www.bennet-schulz.com/2015/10/mvc-10-in-java-ee-8-models.html
permalink: /:year/:month/:title.html
---

<div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-RTPNqC_nDbI/Vh-hAnhfIrI/AAAAAAAAAVs/o6NfkGv9IBE/s1600/client-logo-payara.jpg" imageanchor="1" style="clear: right; float: right; margin-bottom: 1em; margin-left: 1em;"></a><a href="http://4.bp.blogspot.com/-W2gVcM7GRsY/Vh-hSiLRtHI/AAAAAAAAAV0/kDgBw3pAKts/s1600/NB-logo-single.jpg" imageanchor="1" style="clear: right; float: right; margin-bottom: 1em; margin-left: 1em;"><img border="0" src="http://4.bp.blogspot.com/-W2gVcM7GRsY/Vh-hSiLRtHI/AAAAAAAAAV0/kDgBw3pAKts/s1600/NB-logo-single.jpg" /></a></div>This is the second part of my MVC 1.0 blog series. While the last <a href="http://www.bennet-schulz.com/2015/10/java-ee-8-mvc-getting-started.html" target="_blank">blogpost</a> was about an introduction to MVC 1.0 in general, this one focuses on Models in MVC.&nbsp; <br /><a href="https://1.bp.blogspot.com/-RTPNqC_nDbI/Vh-hAnhfIrI/AAAAAAAAAVs/o6NfkGv9IBE/s1600/client-logo-payara.jpg" imageanchor="1" style="clear: right; float: right; margin-bottom: 1em; margin-left: 1em;"><img border="0" src="http://1.bp.blogspot.com/-RTPNqC_nDbI/Vh-hAnhfIrI/AAAAAAAAAVs/o6NfkGv9IBE/s1600/client-logo-payara.jpg" /></a>Like described before Models are responsible for combining data-models and views (templates) to produce web application pages.<br />In MVC 1.0 there are two kinds of Models. The developer can either use the javax.mvc.Models map to combine data-models with views or he can develop his own CDI based Models.<br /><br /><a class="twitter-share-button" data-via="bennetelli" href="https://twitter.com/share">Tweet</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script> <a class="g-plusone" data-size="medium" href="https://plus.google.com/"></a><br /><h2>javax.mvc.Models</h2><h3>Working with Single Objects</h3>Single Objects like Strings can easily be putted into the Models map. The following example shows how to work with Models and corresponding Views. It also shows how multiple different Models can be used to display informations within a View.   <br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-_lqRyoFb8QE/Vh-3GuYmXbI/AAAAAAAAAWA/KS8OxaLMWM0/s1600/mvc_controller.tiff" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" height="215" src="http://1.bp.blogspot.com/-_lqRyoFb8QE/Vh-3GuYmXbI/AAAAAAAAAWA/KS8OxaLMWM0/s400/mvc_controller.tiff" width="400" /></a></div><br /><br /><br /><br /><br /><br /><br /><br /><br />To access this value of this map the respective key has to be "hello".<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-bXx4Jqtnwl8/Vh-5TX9UnfI/AAAAAAAAAWU/cXmIEyeRaH8/s1600/mvc_view.tiff" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" height="201" src="http://4.bp.blogspot.com/-bXx4Jqtnwl8/Vh-5TX9UnfI/AAAAAAAAAWU/cXmIEyeRaH8/s640/mvc_view.tiff" width="640" /></a></div>The key of the map can be accessed via ${key} expression whereas key is the key of the corresponding map. In this scenario the key to get "Hello MVC 1.0" is "hello".<br /><br /><u>Note:</u> There is <b>no IDE support</b> for this javax.mvc.Models map which  means the developer has to take care to write the key and values of  this map correctly. Otherwise this will result in an runtime error when  triggering the url. <br /><h3>Working with multiple Objects </h3>With this kind of Model you have to access the properties of this map directly via ${key} expression. This is useful because this map is able to store arbitary kinds of Objects. Beside as putting simple Strings into the map it is also possible to put multiple, different Objects into it. For example Persons and Customers like in the following snippet. <br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-3n0AKcLgma4/ViTGUXkQjYI/AAAAAAAAAWw/3gI91tZL5Mc/s1600/mvc_multiple_models.tiff" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" height="304" src="http://4.bp.blogspot.com/-3n0AKcLgma4/ViTGUXkQjYI/AAAAAAAAAWw/3gI91tZL5Mc/s640/mvc_multiple_models.tiff" width="640" /></a></div><br />The way to access the keys is a little bit different in comparison to simple keys like Strings.<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-opJAEwszA3U/ViTGwBez17I/AAAAAAAAAW4/WR9TAi8b5ug/s1600/mvc_multiple_models_view.tiff" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" height="235" src="http://1.bp.blogspot.com/-opJAEwszA3U/ViTGwBez17I/AAAAAAAAAW4/WR9TAi8b5ug/s640/mvc_multiple_models_view.tiff" width="640" /></a></div>The properties of an Object e.g. Person have to be accessed via <b>key.propertyname</b> instead of just <b>key</b> like in the String example before.<br /><h2>CDI-based Models</h2>A more save way to work with MVC Models are the&nbsp; CDI-based Models. The JSR 371 Spec recommends to <i>"use CDI-based models wherever supported and thus take advantage of existing CDI and Expression Language integration on the platform"</i>. <br /><h3>Working with Single Objects</h3>By using CDI-based Models the same Controller looks like:<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-5lzLUobxlxw/ViTMjuI92FI/AAAAAAAAAXI/wIuFpq_fKPA/s1600/mvc_cdi_models.tiff" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" height="270" src="http://2.bp.blogspot.com/-5lzLUobxlxw/ViTMjuI92FI/AAAAAAAAAXI/wIuFpq_fKPA/s400/mvc_cdi_models.tiff" width="400" /></a></div><br /><div class="separator" style="clear: both; text-align: left;">The Models class has been replaced by the Person entity and the first- and lastname are set with the setter method of the Person. </div><div class="separator" style="clear: both; text-align: left;"><img border="0" height="196" src="http://3.bp.blogspot.com/-mbrPgTPUOVE/ViTMjhgv25I/AAAAAAAAAXM/bdORy-MgSQo/s640/mvc_cdi_models_view.tiff" width="640" /></div>The way to access properties within a view is a little bit different in comparison with single Objects when using CDI-based models.<br />In comparison to javax.mvc.Models by using CDI-based Models  it is possible to annotate the Model with other Scopes than RequestScoped. For example RequestScoped.<br /><br /><u>Note:</u> The CDI Bean needs to be public, a default Constructor and public getter and setter methods. In addition to that it also needs to be annotated with @Named and a Scope. In most of the use cases this will be RequestScoped.<br /><h3>Working with multiple Objects</h3>It is also possibile to inject multiple (different) models within a single Controller. The way to work with multiple models is similar to single objects. The properties can be set via setter method or even via Constructor and can be accessed within a View as well.<br /><h2>Conclusion</h2>In MVC there are two  ways to handle models. While the javax.mvc.Models class is a map with a String as key and an Object as value, the CDI-based Models are simple CDI beans.<br />The javax.mvc.Models map can contain everything you want. This can be useful in use cases where no additional Model class is necessary.<br />CDI-based Models instead of Models can be used for redirects, forwardings and other use cases where a Scope different than RequestScope is required.<br /><br />Bye,<br />Bennet<br /><br /><a class="twitter-follow-button" data-show-count="false" href="https://twitter.com/bennetelli">Follow @bennetelli</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>