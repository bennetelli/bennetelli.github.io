---
layout: post
title: How to test your JavaFX FXML with TestFX
date: '2015-05-29T12:55:00.002-07:00'
author: Bennet Schulz
tags:
- JavaFX
- testFX
modified_time: '2015-07-13T08:50:21.682-07:00'
thumbnail: http://4.bp.blogspot.com/-BeUfrmIrhqE/VWixIIZZEHI/AAAAAAAAANE/Zb9SztaZ2m8/s72-c/Bildschirmfoto%2Bvom%2B2015-05-27%2B21%253A17%253A17.png
blogger_id: tag:blogger.com,1999:blog-3189340956761677857.post-5275964348745046954
blogger_orig_url: http://www.bennet-schulz.com/2015/05/how-to-test-your-javafx-fxml-with-testfx.html
permalink: /:year/:month/:title.html
---

I am writing this tutorial because I really like the simplicity of TestFX and there are just a few TestFX tutorials only. In my opinion there could be more of it. Especially on a beginners level. Therefore this blog post will introduce in testing JavaFX FXML views with JavaFX.<br /><a class="twitter-share-button" data-via="bennetelli" href="https://twitter.com/share">Tweet</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script> <a class="g-plusone" data-size="medium" href="https://plus.google.com/"></a><br /><h3>Introduction to TestFX</h3>TestFX offers a fluent and clean API with a flexible setup and cleanup of JavaFX test fixtures. It also offers simple robots to simulate user interactions with a rich collection of matchers to verify expected states and many other cool features. For more informations see: <a href="https://github.com/TestFX/TestFX#features">https://github.com/TestFX/TestFX#features</a> <br /><h3>Getting started with maven</h3>Adding TestFX dependency is as simple as adding the JUnit one. You simply have to add the following snippet to your pom.xml. That's all.<br /><pre class="brush: java" title="Listing 1">&lt;dependency&gt;<br />    &lt;groupId&gt;org.loadui&lt;/groupId&gt;<br />    &lt;artifactId&gt;testFx&lt;/artifactId&gt;<br />    &lt;version&gt;3.1.2&lt;/version&gt;<br />&lt;/dependency&gt;</pre><u>Note:</u> The upcoming version of <a href="https://github.com/TestFX/TestFX" target="_blank">TestFX 4.0.x</a> is currently in alpha state. I will update this tutorial once the stable version is released.<br /><h3>Initialize your first empty test class</h3><div class="brush: java" title="Listing 2">Each test class has to extend <b>org.loadui.testfx.GuiTest. </b>After extending GuiTest you have to override the <b>getRootNode()</b> method:</div><pre class="brush: java" title="Listing 2">public class SampleTest extends GuiTest {<br /><br />&nbsp;&nbsp;&nbsp; @Override<br />&nbsp;&nbsp;&nbsp; protected Parent getRootNode() {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Parent parent = null;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; try {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; parent = FXMLLoader.load(getClass().getResource("sample.fxml"));<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return parent;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } catch (IOException ex) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // TODO ...<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return parent;<br />&nbsp;&nbsp;&nbsp; }<br />    // ...<br />} </pre>and you also get additional UI test methods like:find(),click(), scroll(), ... and lots of other methods to simulate user interactions with JUnit tests.<br /><h3>The sample application</h3>The following window simulates a very simple search formular for customers. The windows logic is as simple as the window itself.<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-BeUfrmIrhqE/VWixIIZZEHI/AAAAAAAAANE/Zb9SztaZ2m8/s1600/Bildschirmfoto%2Bvom%2B2015-05-27%2B21%253A17%253A17.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="62" src="http://4.bp.blogspot.com/-BeUfrmIrhqE/VWixIIZZEHI/AAAAAAAAANE/Zb9SztaZ2m8/s400/Bildschirmfoto%2Bvom%2B2015-05-27%2B21%253A17%253A17.png" width="400" /></a></div><br />The user can search for customers if and only if he enters a first- and also a lastname. In case the user entered firstname or lastname only, the button stays uneditable (grey). The following snippet shows the controller which implements the logic described before.<br /><pre class="brush: java" title="Listing 2">public class SampleController implements Initializable {<br />&nbsp;&nbsp;&nbsp; <br />&nbsp;&nbsp;&nbsp; @FXML private TextField firstname;<br />&nbsp;&nbsp;&nbsp; @FXML private TextField lastname;<br />&nbsp;&nbsp;&nbsp; @FXML private Button search;<br />&nbsp;&nbsp;&nbsp; <br />&nbsp;&nbsp;&nbsp; @FXML<br />&nbsp;&nbsp;&nbsp; private void handleButtonAction(ActionEvent event) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // ...<br />&nbsp;&nbsp;&nbsp; }<br />&nbsp;&nbsp;&nbsp; <br />&nbsp;&nbsp;&nbsp; @Override<br />&nbsp;&nbsp;&nbsp; public void initialize(URL url, ResourceBundle rb) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; search.disableProperty().bind(<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; firstname.textProperty().isEmpty()<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; .or(<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; lastname.textProperty().isEmpty()<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ));<br />&nbsp;&nbsp;&nbsp; }<br />}<br /></pre><h3>Writing a test for the sample application</h3>The sample test for this minimalistic application requires all the sections described before. You have to extend GuiTest, override getRootNode() method and use the additional UI methods like find(), verifyThat and so on.<br /><pre class="brush: java" title="Listing 2">public class SampleTest extends GuiTest {<br /><br />&nbsp;&nbsp;&nbsp; @Override<br />&nbsp;&nbsp;&nbsp; protected Parent getRootNode() {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // see snippet before<br />&nbsp;&nbsp;&nbsp; }<br /><br />&nbsp;&nbsp;&nbsp; @Test<br />&nbsp;&nbsp;&nbsp; public void setBothnamesAndCheckEnabledSearchButton() {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TextField firstname = find("#firstname");<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; firstname.setText("bennet");<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; verifyThat("#firstname", hasText("bennet"));<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TextField lastname = find("#lastname");<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; lastname.setText("schulz");<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; verifyThat("#lastname", hasText("schulz"));<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Button search = find("#search");<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; assertFalse(search.disableProperty().get());<br />&nbsp;&nbsp;&nbsp; }<br />}<br /></pre>For these two Buttons there are 2^n = 4 different cases you have to test, whereas n=2 is the possible state (enabled or disabled) of each button. The other three cases left are missing to keep the simplicity of this tutorial.<br />Like you can see, there are lots of similarities with JUnit and every developer experienced with JUnit is able to write tests with TestFX within just a few minutes.<br /><br />Have fun with TestFX :-)<br /><br /><a class="twitter-follow-button" data-show-count="false" href="https://twitter.com/bennetelli">Follow @bennetelli</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>