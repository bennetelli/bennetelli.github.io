---
layout: post
title: MVC 1.0 in Java EE 8 - How to work with Controllers
date: '2015-10-30T00:22:00.000-07:00'
author: Bennet Schulz
tags:
- Java EE 8
- MVC
- Payara
- Java EE
- Glassfish
- netbeans
modified_time: '2015-10-30T03:07:57.043-07:00'
thumbnail: http://2.bp.blogspot.com/-Y2dxVyGTsmE/ViiJ9oE-DhI/AAAAAAAAAX4/pZALroc2TBc/s72-c/NB-logo-single.jpg
blogger_id: tag:blogger.com,1999:blog-3189340956761677857.post-5181232627230517387
blogger_orig_url: http://www.bennet-schulz.com/2015/10/javaee-mvc-controllers.html
permalink: /:year/:month/:title.html
---

<a href="http://2.bp.blogspot.com/-Y2dxVyGTsmE/ViiJ9oE-DhI/AAAAAAAAAX4/pZALroc2TBc/s1600/NB-logo-single.jpg" imageanchor="1" style="clear: right; float: right; margin-bottom: 1em; margin-left: 1em;"><img border="0" src="http://2.bp.blogspot.com/-Y2dxVyGTsmE/ViiJ9oE-DhI/AAAAAAAAAX4/pZALroc2TBc/s1600/NB-logo-single.jpg" /></a><a href="http://4.bp.blogspot.com/-_1b0YZ-OysQ/ViiJ_XCKVeI/AAAAAAAAAYE/ofGUOhh9uu0/s1600/client-logo-payara.jpg" imageanchor="1" style="clear: right; float: right; margin-bottom: 1em; margin-left: 1em;"><img border="0" src="http://4.bp.blogspot.com/-_1b0YZ-OysQ/ViiJ_XCKVeI/AAAAAAAAAYE/ofGUOhh9uu0/s1600/client-logo-payara.jpg" /></a>This third part of my NetBeans and Payara MVC 1.0 series is about controllers in detail.<br />An MVC controller is a resource method decorated by an @Controller annotation. There are different options when using MVC Controllers. This blogpost explains how and when to use which type of controller method return types.<br /><br /><a class="twitter-share-button" data-via="bennetelli" href="https://twitter.com/share">Tweet</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script> <a class="g-plusone" data-size="medium" href="https://plus.google.com/"></a> <br /><h2>Controllers and Hybrid Classes</h2>The @Controller annotation can be applied either on a class or on methods. When the  annotation is applied to methods The class is called hybrid class. Otherwise it's a controller class.<br /><br /><u>Note:</u> The default produced media type (@Produces annotation) for MVC controller methods is text/html, but it can also be changed.<br /><h2>Return Types</h2>There are lots of different return types when working with @Controller methods or classes. <br /><h3>String</h3>A controller method with a String as return type was used in the previous examples. The following snippet shows this one. The hello method puts my first- and lastname into the Person models object which is a RequestScoped CDI bean and the returned hello.jsp file displays this two Strings.<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-K6TrRDMAYo0/Vi6Dq1QudeI/AAAAAAAAAYY/-YPljZZVv38/s1600/mvc_controller_string.tiff" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="265" src="http://2.bp.blogspot.com/-K6TrRDMAYo0/Vi6Dq1QudeI/AAAAAAAAAYY/-YPljZZVv38/s400/mvc_controller_string.tiff" width="400" /></a></div>The return value of this method is the path to the corresponding view.<br /><br /><u>Note:</u> A MVC controller always has to return a correct path to a view. Otherwise it will result in an HTTP 500 runtime error.<br /><h3>Void</h3>Another possible return type is the void one. When a controller method has a void return value it has to be annotated with the @View annotation. The following controller method is similar to the previous method with a String as return value.<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-hjknrSXg5zE/Vi6FNA3iTpI/AAAAAAAAAYk/Rk1TCU46MJw/s1600/mvc_controller_void.tiff" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="262" src="http://4.bp.blogspot.com/-hjknrSXg5zE/Vi6FNA3iTpI/AAAAAAAAAYk/Rk1TCU46MJw/s400/mvc_controller_void.tiff" width="400" />&nbsp;</a>&nbsp;</div><div class="separator" style="clear: both; text-align: left;">In comparison to the String return type this one is one line of code longer. Although it's a little bit uncommon in comparison to JAX-RS and Java in general, in my opinion it's more clear because it well separates the corresponding view from the controller logic within the controller method.</div><h3>Responses</h3>The third return type is a JAX-RS Response. A JAX-RS return type gives you all access to HTTP responses and their headers. <br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-zmiDTQ6YzZo/Vi6IRyqX0wI/AAAAAAAAAYw/f1F6LfQP5dQ/s1600/mvc_controller_response.tiff" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="219" src="http://4.bp.blogspot.com/-zmiDTQ6YzZo/Vi6IRyqX0wI/AAAAAAAAAYw/f1F6LfQP5dQ/s640/mvc_controller_response.tiff" width="640" /></a></div>In this example the Response is not that useful, because controller methods typically return a HTTP 200 status code. Therefore a String or a void return type should be used in such use cases.<br />However sometimes it is necessary to deviate from the HTTP 200.  An example for a different HTTP code could be an erroneous input.<br /><br /><u>Note:</u> It's also possible to put a View, a Viewable object or the result of Java type's toString() method object, but in most of the use cases this should be either a String or even a View object.<br /><h3>Viewables</h3>The last possible return type is a Viewable. A Viewable is a MVC class which encapsulates View paths like the String and void return types do. In addition to that it can also contain references to Models or CDI-based models (see previous post) or ViewEngine objects which can be used to use other View Engines than Java Server Pages.<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-CVHhjGE7w1g/Vi6PXRZLl6I/AAAAAAAAAZA/Q9eeZsNpjGg/s1600/mvc_controller_viewable.tiff" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="238" src="http://2.bp.blogspot.com/-CVHhjGE7w1g/Vi6PXRZLl6I/AAAAAAAAAZA/Q9eeZsNpjGg/s400/mvc_controller_viewable.tiff" width="400" /></a></div>This one also gives developers more flexibility than the return types of String or void, but in most of the cases this shouldn't be necessary. It can be used to implement additional view engines or something like that, but in my opinion there is no need for non-api developers to use this object. Additional view engines will be part of future early draft versions of the Ozark - MVC 1.0 Reference Implementation.<br /><h2>Conclusion&nbsp;</h2>Controllers can be hybrid with JAX-RS methods and MVC controller methods. The default @Produces value of MVC controller methods is text/html, but it is also possible to return other types. There are four possible return types whereas a String and a void are the simplest and in my opinion they should be the prefered ones. Nevertheless there are use cases where the Response and the Viewable return type are necessary and useful.<br /><br /><br />Bye,<br />Bennet<br /><br /><br /><a class="twitter-follow-button" data-show-count="false" href="https://twitter.com/bennetelli">Follow @bennetelli</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>